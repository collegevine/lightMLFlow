<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set Git tracking tags outside of an MLFlow Project — set_git_tracking_tags • lightMLFlow</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set Git tracking tags outside of an MLFlow Project — set_git_tracking_tags"><meta property="og:description" content="This is a utility to make it easier to set tracking tags. Basically, it tricks
MLFlow into thinking the code is running from an MLFlow Project when it's not,
so you get nice Git tracking in the UI without needing an MLProject file or
to clone a repo to get the same benefits."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lightMLFlow</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set Git tracking tags outside of an MLFlow Project</h1>
    
    <div class="hidden name"><code>set_git_tracking_tags.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is a utility to make it easier to set tracking tags. Basically, it tricks
MLFlow into thinking the code is running from an MLFlow Project when it's not,
so you get nice Git tracking in the UI without needing an <code>MLProject</code> file or
to clone a repo to get the same benefits.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">set_git_tracking_tags</span><span class="op">(</span>
  run_id <span class="op">=</span> <span class="fu"><a href="get_active_run_id.html">get_active_run_id</a></span><span class="op">(</span><span class="op">)</span>,
  client <span class="op">=</span> <span class="fu"><a href="mlflow_client.html">mlflow_client</a></span><span class="op">(</span><span class="op">)</span>,
  git_repo_url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GIT_REPO_URL"</span><span class="op">)</span>,
  <span class="va">git_repo_subdir</span>,
  source_git_commit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"git rev-parse HEAD"</span>, intern <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  source_git_branch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="st">"git rev-parse --abbrev-ref HEAD"</span>, intern <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  project_entrypoint <span class="op">=</span> <span class="st">"main"</span>,
  project_backend <span class="op">=</span> <span class="st">"local"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>run_id</dt>
<dd><p>An MLFlow run ID. Auto-generated if missing</p></dd>
<dt>client</dt>
<dd><p>An MLFlow client. Auto-generated if missing</p></dd>
<dt>git_repo_url</dt>
<dd><p>A URL for the Git repo where the code is being run from
This is expected to be of the form <code>https://&lt;&lt;GITHUB_TOKEN&gt;&gt;@github.com/&lt;&lt;org&gt;&gt;/&lt;&lt;repo&gt;&gt;</code></p></dd>
<dt>git_repo_subdir</dt>
<dd><p>The subdirectory in the repo where your code lives</p></dd>
<dt>source_git_commit</dt>
<dd><p>A git commit hash to tag a run with. Defaults to <code>git2r::revparse_single(".", revision = "HEAD")$sha</code></p></dd>
<dt>source_git_branch</dt>
<dd><p>The git branch the code is running on. Defaults to <code>system("git rev-parse --abbrev-ref HEAD", intern = TRUE)</code> (i.e. the current branch)</p></dd>
<dt>project_entrypoint</dt>
<dd><p>An entrypoint for the project. Defaults to <code>"main"</code></p></dd>
<dt>project_backend</dt>
<dd><p>A backend for the project. Defaults to <code>"local"</code></p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns a list of tags for the <code>run_id</code></p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This also makes it easier to have MLFlow play nicely with <code>renv</code>.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matt Kaye.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

